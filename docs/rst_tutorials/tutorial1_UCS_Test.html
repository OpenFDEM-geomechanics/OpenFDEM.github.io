

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Quick start with uniaxial compression test &#8212; OpenFDEM</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'rst_tutorials/tutorial1_UCS_Test';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Create model from imported mesh" href="tutorial2_UCS_with_Gmsh.html" />
    <link rel="prev" title="How to create a geometry" href="tutorial0_Geometry.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>


  <div class="bd-header-announcement container-fluid bd-header-announcement">
    <div class="bd-header-announcement__content">Call for papers for <a href='https://www.sciencedirect.com/journal/journal-of-rock-mechanics-and-geotechnical-engineering'>Journal of Rock Mechanics and Geotechnical Engineering!</a></div>
  </div>

  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">OpenFDEM</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_about_introduction/index.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_theory/index.html">
                        Theory
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_user_guide/index.html">
                        User Manual
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_about_us/index.html">
                        About Us
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_appendix/index.html">
                        Appendix
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_about_introduction/index.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_theory/index.html">
                        Theory
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_user_guide/index.html">
                        User Manual
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_about_us/index.html">
                        About Us
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_appendix/index.html">
                        Appendix
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="tutorialindex.html">Examples</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial0_Geometry.html">How to create a geometry</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Quick start with uniaxial compression test</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial2_UCS_with_Gmsh.html">Create model from imported mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial3_UCS_Test_with_Quadrangle_Elements.html">How to use higher-order element</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial4_BD_Test.html">Quick start with Brazilian disc test</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial5_In_Situ_Stress.html">Tunnel excavation under <cite>in-situ</cite> stress</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial6_Hydro_Seepage.html">Water flowing in rock dam: seepage flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial7_Hydro_Fracture_Flow.html">Water flowing in rock dam: fracture flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial8_Thermal_Flux.html">Thermal flux transportation in a bar</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial9_GBM.html">Grain-based model (GBM), interface with Neper</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial10_Phase_Field.html">Phase Field</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorialA_Paraview.html">Post-Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialB_Notepad%2B%2B.html">NotePad++ and Syntax Highlighting</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Tutorials</a></li>
    
    
    <li class="breadcrumb-item"><a href="tutorialindex.html" class="nav-link">Examples</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Quick start with uniaxial compression test</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="quick-start-with-uniaxial-compression-test">
<h1>Quick start with uniaxial compression test<a class="headerlink" href="#quick-start-with-uniaxial-compression-test" title="Permalink to this heading">#</a></h1>
<p>Uniaxial compression test (UCS) is one of the benchmark tests that can be used to obtain the material properties
in the labratory. It is also used as the most common simulation to calibrate the material
properties in FDEM or DEM. In this model, the sample is compressed by two rigid platens and the force interaction between platens and
rock sample is realized by contacts.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../_images/UCS.png"><img alt="Geometry of the uniaxial compression test" src="../_images/UCS.png" style="width: 463.79999999999995px; height: 496.79999999999995px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 1: Geometry of the uniaxial compression strength test</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<section id="main-steps">
<h2>1 Main Steps<a class="headerlink" href="#main-steps" title="Permalink to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Initialize the model.</p></li>
<li><p>Create geometry and mesh</p></li>
<li><p>Assign material properties.</p></li>
<li><p>Create groups and assign boundary condition.</p></li>
<li><p>Set the outputs.</p></li>
<li><p>Run</p></li>
</ol>
</section>
<section id="codes">
<h2>2 Codes<a class="headerlink" href="#codes" title="Permalink to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Please note that, all the setting in the example is based on the developer’s computer. You may need to change
these details based on your own environment.</p>
</div>
<p>To start with programming, create a new empty input file or copy it from the existing examples (later add the <code class="docutils literal notranslate"><span class="pre">.of</span></code> extension). Begin writing the following commands:</p>
<section id="initialize-the-model">
<h3>2.1 Initialize the model<a class="headerlink" href="#initialize-the-model" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Create a new run and clean up the dirty memories in heap, it is not mandatory but strongly recommended.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">new</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Set up the path to save your results. Here the path is set to be “<cite>currentPath</cite>/result”.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, the field results (<code class="docutils literal notranslate"><span class="pre">VTK</span></code>, <code class="docutils literal notranslate"><span class="pre">VTP</span></code>) will be saved in “MyResult” folder in the same path with <code class="docutils literal notranslate"><span class="pre">.of</span></code> file. OpenFDEM kernel will automatically create the folder if it is absent.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">result</span> <span class="s2">&quot;result&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Set the interval of logging in the <code class="docutils literal notranslate"><span class="pre">.log</span></code> file. This example uses the default interval 2000 steps. <code class="docutils literal notranslate"><span class="pre">.log</span></code> file will be useful to help user figure out the running error, and can be used as a tool to debug.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">interval</span> <span class="mi">2000</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Set the CPU parallelization to boost your runs.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In the default example, 15 cores will be used for running. To prevent the heavy burden of your computer, please
check your computer to change core number you want to use. To check the configuration of your computer, you can go</p>
<dl>
<dt>Windows:</dt><dd><p>Task Manager &gt; Performance &gt; CPU &gt; Cores</p>
</dd>
<dt>Linux:</dt><dd><p>lscpu</p>
<p>lscpu | egrep ‘Model name|Socket|Thread|NUMA|CPU(s)’</p>
<p>lscpu -p</p>
</dd>
</dl>
<p>The cores will be printed on the console when you start a new run, you can also check the information from OpenFDEM kernel itself.</p>
<p>If nothing is set here, serial computing will be used by default.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">omp</span> <span class="mi">15</span>
</pre></div>
</div>
</section>
<section id="create-the-geometry-and-the-mesh">
<h3>2.2 Create the geometry and the mesh<a class="headerlink" href="#create-the-geometry-and-the-mesh" title="Permalink to this heading">#</a></h3>
<p>1. See Figure 1 for the UCS model and create the geometries. This model can be assembeld by three retangulars, the implemented objects OpenFDEM can create include square(rectangular), circle, ellipse, polygon(arbitary shape), Voronoi tessellations,
line, etc.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>The following three methods can be used to create the geometry:</dt><dd><ol class="arabic simple">
<li><p>xmin x_minvalue  xmax x_maxvalue  ymin y_minvalue  ymax y_maxvalue</p></li>
<li><p>x [minvalue, maxvalue] y [minvalue, maxvalue]</p></li>
<li><p>[x_minvalue, x_maxvalue, y_minvalue, y_maxvalue] (brackets are indispensable)</p></li>
</ol>
</dd>
</dl>
<p>This example used three methods to creat a entity. Users may choose any format to create geometris.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">square</span> <span class="s1">&#39;rock&#39;</span> <span class="n">xmin</span> <span class="o">-</span><span class="mf">25e-3</span> <span class="n">xmax</span> <span class="mf">25e-3</span>  <span class="n">ymin</span> <span class="o">-</span><span class="mf">50e-3</span> <span class="n">ymax</span> <span class="mf">50e-3</span> 
<span class="n">of</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">square</span> <span class="s1">&#39;up&#39;</span> <span class="n">x</span> <span class="p">[</span><span class="o">-</span><span class="mf">35e-3</span><span class="p">,</span> <span class="mf">35e-3</span><span class="p">]</span> <span class="n">y</span> <span class="p">[</span><span class="mf">50e-3</span><span class="p">,</span> <span class="mf">55e-3</span><span class="p">]</span>
<span class="n">of</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">square</span> <span class="s1">&#39;down&#39;</span> <span class="p">[</span><span class="o">-</span><span class="mf">35e-3</span>  <span class="mf">35e-3</span>  <span class="o">-</span><span class="mf">55e-3</span> <span class="o">-</span><span class="mf">50e-3</span><span class="p">]</span> 
</pre></div>
</div>
<p>2. Define the mesh size geometry and insert cohesive interfaces. You can define a global size on the points in your geometry, it is able to refine some specific parts, assign a smaller mesh size on the point
groups you want to refine after your assign the global mesh size.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>OpenFDEM is flexible to insert cohesive interfaces only in the objects you want to. For the example at here, the platens are regarded as elastic or rigid in which the breakage will not happen.
You can insert cohesive interfaces only in <cite>rock</cite> physical group to boost the calculation speed to some extent.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">size</span> <span class="s1">&#39;default&#39;</span> <span class="mf">0.8e-3</span>
<span class="n">of</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">mesh</span> <span class="n">delaunay</span> 
<span class="n">of</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">insert</span> <span class="s1">&#39;rock&#39;</span>
</pre></div>
</div>
</section>
<section id="assign-material-properties">
<h3>2.3 Assign Material Properties<a class="headerlink" href="#assign-material-properties" title="Permalink to this heading">#</a></h3>
<p>The material properties of the rock is shown as the table below:</p>
<table class="table">
<colgroup>
<col style="width: 65%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Continuum Triangular Elements</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>model</p></td>
<td><p>elastic</p></td>
</tr>
<tr class="row-even"><td><p>density (<span class="math notranslate nohighlight">\(kg/m^3\)</span>)</p></td>
<td><p>2700</p></td>
</tr>
<tr class="row-odd"><td><p>E (Pa)</p></td>
<td><p>30e9</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\nu\)</span></p></td>
<td><p>0.3</p></td>
</tr>
<tr class="row-odd"><td><p>damp</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>Cohesive Material Properties</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>model</p></td>
<td><p>EM</p></td>
</tr>
<tr class="row-odd"><td><p>tension (Pa)</p></td>
<td><p>1e6</p></td>
</tr>
<tr class="row-even"><td><p>cohesion (Pa)</p></td>
<td><p>3e6</p></td>
</tr>
<tr class="row-odd"><td><p>friction</p></td>
<td><p>0.3</p></td>
</tr>
<tr class="row-even"><td><p>GI (<span class="math notranslate nohighlight">\(J/m^2\)</span>)</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>GII (<span class="math notranslate nohighlight">\(J/m^2\)</span>)</p></td>
<td><p>50</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>Contact Material Properties</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>model</p></td>
<td><p>MC</p></td>
</tr>
<tr class="row-odd"><td><p>friction</p></td>
<td><p>0.3</p></td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Check <a class="reference internal" href="../rst_user_guide/Material/of.mat.element.html"><span class="doc">element materal</span></a>, <a class="reference internal" href="../rst_user_guide/Material/of.mat.cohesive.html"><span class="doc">cohesive materal</span></a>, <a class="reference internal" href="../rst_user_guide/Material/of.mat.contact.html"><span class="doc">contact materal</span></a> to see more materials.</p>
</div>
<ol class="arabic simple">
<li><p>Assign material properties. In this example, elastic material is assigned for the matrix element and Evans_Marathe cohesive law is for CZM, the contact uses Mohr-Coulomb slip by default.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The tag <em>default</em> is a default keyword implemented in the OpenFDEM kernel, it means the whole physical objects in this model. It will be illegal to use this tag as the name of user-defined physical group.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;default&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">2700</span> <span class="n">E</span> <span class="mf">30e9</span> <span class="n">v</span> <span class="mf">0.3</span> <span class="n">damp</span> <span class="mf">1.0</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;default&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">1e6</span> <span class="n">coh</span> <span class="mf">3e6</span> <span class="n">fric</span> <span class="mf">0.3</span> <span class="n">GI</span> <span class="mi">10</span> <span class="n">GII</span> <span class="mi">50</span> 
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;default&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.3</span>
</pre></div>
</div>
</section>
<section id="create-groups-and-assign-boundary-conditions">
<h3>2.4 Create Groups and Assign Boundary Conditions<a class="headerlink" href="#create-groups-and-assign-boundary-conditions" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Group the nodes.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;up&#39;</span> <span class="s1">&#39;up&#39;</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;down&#39;</span> <span class="s1">&#39;down&#39;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Assign the nodal boundaries. In this example, top and bottom platens are moving toward to compress the sample, platens are fixed in the <cite>x</cite> direction and moving with 0.05 m/s in the <cite>y</cite> direction.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">boundary</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">velocity</span> <span class="s1">&#39;up&#39;</span> <span class="n">x</span> <span class="mf">0.0</span> <span class="n">y</span> <span class="o">-</span><span class="mf">0.05</span> 
<span class="n">of</span><span class="o">.</span><span class="n">boundary</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">velocity</span> <span class="s1">&#39;down&#39;</span> <span class="n">x</span> <span class="mf">0.0</span> <span class="n">y</span> <span class="mf">0.05</span> 
</pre></div>
</div>
</section>
<section id="set-the-outputs">
<h3>2.5 Set the Outputs<a class="headerlink" href="#set-the-outputs" title="Permalink to this heading">#</a></h3>
<p>1. Set the result writting interval and the field variables you want to dumper. <cite>default</cite> means the all variables during the calculation will be exported, that will result in
huge size for the storage and at the cost of computation efficiency. Control the output interval to a reasonable size could shorten the computation time.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">interval</span> <span class="mi">5000</span>
<span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">field</span> <span class="n">default</span>
<span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">fracture</span> <span class="n">default</span>
</pre></div>
</div>
<p>2. Timestep can be fixed to 5e-9 in this example to accelerate the calculation in this example, but the default time step is recommended to use. Mass scaling can save you a lot time to some extent, but check the stability of the calculation
is always a necessary for the explict integration. User-defined timestep is allowable only if you are rather familiar with the method you are using.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">timestep</span> <span class="n">fix</span> <span class="mf">5e-9</span>
</pre></div>
</div>
</section>
<section id="run">
<h3>2.6 Run<a class="headerlink" href="#run" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>The program will run 500000 steps in total. In other words, it will output 10 files for reference.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">step</span> <span class="mi">500000</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Finalize the model and clear all the temporary memories.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">finalize</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Save the notepad and double click the .of file to run the program.</p></li>
</ol>
</section>
</section>
<section id="run-the-program">
<h2>3 Run the Program<a class="headerlink" href="#run-the-program" title="Permalink to this heading">#</a></h2>
<p>When you run the program, you can first check the mesh that was created by Gmsh as shown in Figure 2. If the mesh has a good quality, you can close the window to continue run the program.</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../_images/UCS_test.png"><img alt="Mesh of the sample" src="../_images/UCS_test.png" style="width: 600.0px; height: 600.0px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 2: Mesh created by Gmsh</span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The mesh is using triangle elements.</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../_images/UCS_T3.png"><img alt="Triangle elements" src="../_images/UCS_T3.png" style="width: 576.0px; height: 220.8px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 3: Check the mesh setting from command window</span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Material properties you set on step 2.3 will be shown on the screen. You can confirm it while the program just starts to run.</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../_images/UCS_Material.png"><img alt="Material assignment" src="../_images/UCS_Material.png" style="width: 590.7px; height: 188.10000000000002px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 4: Check the material assignment from command window</span><a class="headerlink" href="#id4" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Furthermore, node boundaries are shown at the header of the program.</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../_images/UCS_bondaries.PNG"><img alt="Boundary information" src="../_images/UCS_bondaries.PNG" style="width: 590.1500000000001px; height: 101.2px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 5: Check the boundary information from command window</span><a class="headerlink" href="#id5" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Global timestep is shown here.</p>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../_images/UCS_timesteps.png"><img alt="Timesteps" src="../_images/UCS_timesteps.png" style="width: 592.35px; height: 68.75px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 6: Check the timesteps from command window</span><a class="headerlink" href="#id6" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Start to run the program. Results are logged for every 2000 steps.</p>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../_images/UCS_run.png"><img alt="Start to run the program" src="../_images/UCS_run.png" style="width: 590.7px; height: 168.3px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 7: Start to run the program</span><a class="headerlink" href="#id7" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="results">
<h2>4 Results<a class="headerlink" href="#results" title="Permalink to this heading">#</a></h2>
<p>Wait for updates.</p>
</section>
<section id="full-script">
<h2>5 Full Script<a class="headerlink" href="#full-script" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/OpenFDEM-geomechanics/Examples/blob/main/CreateUniaxialCompressionTest/runme.of">UCS_test.of</a> (click to download from GitHub)</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># initialization, this command is to clear the memory in your last run, it is not mandatory </span>
<span class="c1"># but strongly recommend.</span>
<span class="n">of</span><span class="o">.</span><span class="n">new</span>

<span class="c1"># Set the path folder of your output results, //result// in the same path of your input file </span>
<span class="c1"># will be created by default</span>
<span class="n">of</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">result</span> <span class="s2">&quot;result&quot;</span>

<span class="c1"># Set the interval of logging in the log file, 2000 is by default, not mandatory</span>
<span class="n">of</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">interval</span> <span class="mi">2000</span>

<span class="c1"># Set the number of cores you want to use, the parallization will be automatically turned on</span>
<span class="c1"># when you use the following command, otherwise the serilization will be used by default</span>
<span class="n">of</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">omp</span> <span class="mi">15</span>

<span class="c1">###################################### create mesh #########################################</span>
<span class="c1"># Create a box having the group tag &#39;rock&#39;, the box is defined by the minimum and maximum </span>
<span class="c1"># coordinations of each edge.</span>
<span class="n">of</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">square</span> <span class="s1">&#39;rock&#39;</span> <span class="n">xmin</span> <span class="o">-</span><span class="mf">25e-3</span> <span class="n">xmax</span> <span class="mf">25e-3</span>  <span class="n">ymin</span> <span class="o">-</span><span class="mf">50e-3</span> <span class="n">ymax</span> <span class="mf">50e-3</span> 
<span class="c1"># Create the upper platen</span>
<span class="n">of</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">square</span> <span class="s1">&#39;up&#39;</span> <span class="n">x</span> <span class="p">[</span><span class="o">-</span><span class="mf">35e-3</span><span class="p">,</span> <span class="mf">35e-3</span><span class="p">]</span> <span class="n">y</span> <span class="p">[</span><span class="mf">50e-3</span><span class="p">,</span> <span class="mf">55e-3</span><span class="p">]</span>
<span class="c1"># Create the down platen.</span>
<span class="n">of</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">square</span> <span class="s1">&#39;down&#39;</span> <span class="p">[</span><span class="o">-</span><span class="mf">35e-3</span>  <span class="mf">35e-3</span>  <span class="o">-</span><span class="mf">55e-3</span> <span class="o">-</span><span class="mf">50e-3</span><span class="p">]</span> 
<span class="c1"># Assign the mesh size</span>
<span class="n">of</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">size</span> <span class="s1">&#39;default&#39;</span> <span class="mf">0.8e-3</span>
<span class="c1"># to execute the kernel for meshing, the kernel will automatically export a mesh file named </span>
<span class="c1"># &quot;mess.msh&quot; in the input folder. Users can of.import &quot;mesh.msh&quot; to run the model again </span>
<span class="c1"># without recreating the mesh</span>
<span class="n">of</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">mesh</span> <span class="n">delaunay</span> 

<span class="c1"># Insert the cohesive elements.</span>
<span class="n">of</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">insert</span> <span class="s1">&#39;rock&#39;</span>

<span class="c1">################################# assign material parameters ################################</span>
<span class="c1"># Assign material for matrix.</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;default&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">2700</span> <span class="n">E</span> <span class="mf">30e9</span> <span class="n">v</span> <span class="mf">0.3</span> <span class="n">damp</span> <span class="mf">1.0</span>
<span class="c1"># Assign material for CZM</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;default&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">1e6</span> <span class="n">coh</span> <span class="mf">3e6</span> <span class="n">fric</span> <span class="mf">0.3</span> <span class="n">GI</span> <span class="mi">10</span> <span class="n">GII</span> <span class="mi">50</span> 
<span class="c1"># Assign materials for contacts</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;default&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.3</span>

<span class="c1">##################################### create groups #########################################</span>
<span class="c1"># OpenFDEM can manually group the nodes, elements, cohesive elements and edges by using the </span>
<span class="c1"># region of box, circle and plane.</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;up&#39;</span> <span class="s1">&#39;up&#39;</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;down&#39;</span> <span class="s1">&#39;down&#39;</span>

<span class="c1">################################### assign boundaries #######################################</span>
<span class="c1"># boundaries can be assigned after you define the groups</span>
<span class="n">of</span><span class="o">.</span><span class="n">boundary</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">velocity</span> <span class="s1">&#39;up&#39;</span> <span class="n">x</span> <span class="mf">0.0</span> <span class="n">y</span> <span class="o">-</span><span class="mf">0.05</span> 
<span class="n">of</span><span class="o">.</span><span class="n">boundary</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">velocity</span> <span class="s1">&#39;down&#39;</span> <span class="n">x</span> <span class="mf">0.0</span> <span class="n">y</span> <span class="mf">0.05</span> 

<span class="c1">####################################### set output ###########################################</span>
<span class="c1"># Set the interval of writing ParaView results.</span>
<span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">interval</span> <span class="mi">5000</span>
<span class="c1"># Output all results by default.</span>
<span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">field</span> <span class="n">default</span>
<span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">fracture</span> <span class="n">default</span>

<span class="c1">##################################### execute model ##########################################</span>
<span class="c1"># Manually set the timestep to overwirte the default timestep suggested by the program.</span>
<span class="c1"># It is not recommended to manually increase the size of timesteps unless the user has enough </span>
<span class="c1"># understanding of the calculation process.</span>
<span class="n">of</span><span class="o">.</span><span class="n">timestep</span> <span class="n">fix</span> <span class="mf">5e-9</span>
<span class="c1"># to excuate the model</span>
<span class="n">of</span><span class="o">.</span><span class="n">step</span> <span class="mi">500000</span>
<span class="c1"># finalize the model and clear the memory</span>
<span class="n">of</span><span class="o">.</span><span class="n">finalize</span>
</pre></div>
</div>
<script src="//clustrmaps.com/globe.js?d=IJDdJTOZeBy5TaHUiVkIm7GLGSulnk0C2NzaC4-34QA">
</script></section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="tutorial0_Geometry.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">How to create a geometry</p>
      </div>
    </a>
    <a class="right-next"
       href="tutorial2_UCS_with_Gmsh.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Create model from imported mesh</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#main-steps">1 Main Steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#codes">2 Codes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-the-model">2.1 Initialize the model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-the-geometry-and-the-mesh">2.2 Create the geometry and the mesh</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assign-material-properties">2.3 Assign Material Properties</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-groups-and-assign-boundary-conditions">2.4 Create Groups and Assign Boundary Conditions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set-the-outputs">2.5 Set the Outputs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#run">2.6 Run</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-program">3 Run the Program</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#results">4 Results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#full-script">5 Full Script</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/rst_tutorials/tutorial1_UCS_Test.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023, OpenFDEM Developer Group.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>


<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Grain-based model (GBM), interface with Neper &#8212; &lt;strong&gt;OpenFDEM&lt;/strong&gt;</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'rst_tutorials/tutorial9_GBM';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Phase Field" href="tutorial10_Phase_Field.html" />
    <link rel="prev" title="Thermal flux transportation in a bar" href="tutorial8_Thermal_Flux.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>


  <div class="bd-header-announcement container-fluid bd-header-announcement">
    <div class="bd-header-announcement__content">Call for papers for <a href='https://www.sciencedirect.com/journal/journal-of-rock-mechanics-and-geotechnical-engineering'>Journal of Rock Mechanics and Geotechnical Engineering!</a></div>
  </div>

  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title"><strong>OpenFDEM</strong></p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_about_introduction/index.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_theory/index.html">
                        Theory
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_user_guide/index.html">
                        User Manual
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_about_us/index.html">
                        About Us
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_appendix/index.html">
                        Appendix
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_about_introduction/index.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_theory/index.html">
                        Theory
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_user_guide/index.html">
                        User Manual
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_about_us/index.html">
                        About Us
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../rst_appendix/index.html">
                        Appendix
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="tutorialindex.html">Examples</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial0_Geometry.html">How to create a geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial1_UCS_Test.html">Quick start with uniaxial compression test</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial2_UCS_with_Gmsh.html">Create model from imported mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial3_UCS_Test_with_Quadrangle_Elements.html">How to use higher-order element</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial4_BD_Test.html">Quick start with Brazilian disc test</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial5_In_Situ_Stress.html">Tunnel excavation under <cite>In-situ</cite> stress</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial6_Hydro_Seepage.html">Water flowing in rock dam - seepage flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial7_Hydro_Fracture_Flow.html">Water flowing in rock dam - fracture flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial8_Thermal_Flux.html">Thermal flux transportation in a bar</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Grain-based model (GBM), interface with <code class="docutils literal notranslate"><span class="pre">Neper</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial10_Phase_Field.html">Phase Field</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorialA_Paraview.html">Post-Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialB_Notepad%2B%2B.html">NotePad++ and Syntax Highlighting</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Tutorials</a></li>
    
    
    <li class="breadcrumb-item"><a href="tutorialindex.html" class="nav-link">Examples</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Grain-based model (GBM), interface with <code class="docutils literal notranslate"><span class="pre">Neper</span></code></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="grain-based-model-gbm-interface-with-neper">
<h1>Grain-based model (GBM), interface with <code class="docutils literal notranslate"><span class="pre">Neper</span></code><a class="headerlink" href="#grain-based-model-gbm-interface-with-neper" title="Permalink to this heading">#</a></h1>
<style> .red {color:#F64A8A; } </style>
<style> .blue {color:#4169E1; font-weight:bold;} </style><p>Grain based modeling for UCS example. The grain-based model is constructed by the Voronoi tessellations fron <code class="docutils literal notranslate"><span class="pre">Neper</span></code> &lt;<a class="reference external" href="https://neper.info/">https://neper.info/</a>&gt;,  <code class="docutils literal notranslate"><span class="pre">.geo</span></code>  or <code class="docutils literal notranslate"><span class="pre">.inp</span></code> files can be directly imported by OpenFDEM and each tessellation will be created into
a individual physcial group. The user can regroup those tessellations into different minerals by assigning the area ratio, OpenFDEM will create those mineral groups by random to approach the predesigned mineral distributions.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../_images/grainbasedmodel.png"><img alt="Geometry of the uniaxial compression test" src="../_images/grainbasedmodel.png" style="width: 390.3px; height: 526.1999999999999px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 1: Mineral distribution in UCS sample</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="tutorial-prerequistes">
<h2>1 Tutorial Prerequistes<a class="headerlink" href="#tutorial-prerequistes" title="Permalink to this heading">#</a></h2>
<p>The following files are needed to follow along the tutorial:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/OpenFDEM-geomechanics/Examples/tree/main/GBM/Job-1.inp">Job-1.inp</a> (click to download from GitHub)</p></li>
</ul>
</section>
<section id="main-steps">
<h2>2 Main Steps<a class="headerlink" href="#main-steps" title="Permalink to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Initialize the model.</p></li>
<li><p>Create the geometry and the mesh</p></li>
<li><p>Assign material properties.</p></li>
<li><p>Create the group and assign boundary conditions.</p></li>
<li><p>Set the outputs.</p></li>
</ol>
</section>
<section id="codes">
<h2>3 Codes<a class="headerlink" href="#codes" title="Permalink to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Please note that, all the setting in the example is based on the developer’s computer. You may need to change
these details based on your own environment.</p>
</div>
<p>To start with programming, create a new empty input file or copy it from the existing examples (later add the <code class="docutils literal notranslate"><span class="pre">.of</span></code> extension). Begin writing the following commands:</p>
<section id="initialize-the-model">
<h3>3.1 Initialize the model<a class="headerlink" href="#initialize-the-model" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Create a new run and clean up the old memories.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">new</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Turn on GBM module.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">GBM</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Set up the folder name to save your results. Here the folder name is set to be “result”.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">result</span> <span class="s2">&quot;result&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Set the number of cores to be used for running this model.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In the default example, 15 cores will be used for running. To prevent the heavy burden of your computer, please
check your computer to change core number you want to use. To check the configuration of your computer, you can go</p>
<dl>
<dt>Windows:</dt><dd><p>Task Manager &gt; Performance &gt; CPU &gt; Cores</p>
</dd>
<dt>Linux:</dt><dd><p>lscpu</p>
<p>lscpu | egrep ‘Model name|Socket|Thread|NUMA|CPU(s)’</p>
<p>lscpu -p</p>
</dd>
</dl>
<p>The cores will be printed on the console when you start a new run, you can also check the information from OpenFDEM kernel itself.</p>
<p>If nothing is set here, serial computing will be used by default.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">omp</span> <span class="mi">15</span>
</pre></div>
</div>
</section>
<section id="import-the-geometry-and-the-mesh">
<h3>3.2 Import the geometry and the mesh<a class="headerlink" href="#import-the-geometry-and-the-mesh" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Import the mesh file from <code class="docutils literal notranslate"><span class="pre">Neper</span></code>.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="kn">import</span> <span class="s1">&#39;Job-1.inp&#39;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Regroup the tessellations to three mineral groups, each group is controlled by the area ratio.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">gbm</span> <span class="mi">3</span> <span class="s1">&#39;Qtz&#39;</span> <span class="mf">0.3</span> <span class="s1">&#39;Fel&#39;</span> <span class="mf">0.46</span> <span class="s1">&#39;Bio&#39;</span> <span class="mf">0.24</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Create <code class="docutils literal notranslate"><span class="pre">object:element</span></code> groups for platens and sample.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;rock&#39;</span> <span class="nb">range</span> <span class="n">box</span><span class="o">.</span><span class="ow">in</span> <span class="n">xmin</span> <span class="o">-</span><span class="mf">0.05</span> <span class="n">xmax</span> <span class="mf">0.05</span> <span class="n">ymin</span> <span class="o">-</span><span class="mf">0.05</span> <span class="n">ymax</span> <span class="mf">0.05</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;up&#39;</span>  <span class="nb">range</span> <span class="n">box</span><span class="o">.</span><span class="ow">in</span> <span class="n">xmin</span> <span class="o">-</span><span class="mf">1.0</span> <span class="n">xmax</span> <span class="mf">1.0</span> <span class="n">ymin</span> <span class="mf">0.05</span> <span class="n">ymax</span>  <span class="mf">1.0</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;down&#39;</span>  <span class="nb">range</span> <span class="n">box</span><span class="o">.</span><span class="ow">in</span> <span class="n">xmin</span> <span class="o">-</span><span class="mf">1.0</span> <span class="n">xmax</span> <span class="mf">1.0</span> <span class="n">ymin</span>  <span class="o">-</span><span class="mf">1.0</span> <span class="n">ymax</span> <span class="o">-</span><span class="mf">0.05</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Insert cohesive interface in rock sample only.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">insert</span> <span class="s1">&#39;rock&#39;</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Create <code class="docutils literal notranslate"><span class="pre">object:cohesive</span></code> groups for the interfaces, those groups will be assigned different material properties.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Qtz-Qtz&#39;</span> <span class="s1">&#39;Qtz&#39;</span> <span class="s1">&#39;Qtz&#39;</span>   <span class="c1"># Quartz group</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Qtz-Fel&#39;</span> <span class="s1">&#39;Qtz&#39;</span> <span class="s1">&#39;Fel&#39;</span>	<span class="c1"># Quartz-feldspar group</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Fel-Fel&#39;</span> <span class="s1">&#39;Fel&#39;</span> <span class="s1">&#39;Fel&#39;</span>	<span class="c1"># feldspar-feldspar group</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Fel-Bio&#39;</span> <span class="s1">&#39;Fel&#39;</span> <span class="s1">&#39;Bio&#39;</span>	<span class="c1"># feldspar-biotite group</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Bio-Bio&#39;</span> <span class="s1">&#39;Bio&#39;</span> <span class="s1">&#39;Bio&#39;</span>	<span class="c1"># biotite-biotite group</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Bio-Qtz&#39;</span> <span class="s1">&#39;Bio&#39;</span> <span class="s1">&#39;Qtz&#39;</span>	<span class="c1"># biotite-Quartz group</span>
</pre></div>
</div>
</section>
<section id="assign-material-and-thermal-properties">
<h3>3.3 Assign Material and Thermal Properties<a class="headerlink" href="#assign-material-and-thermal-properties" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Set the material properties of minerals and platens.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;Qtz&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">2700</span> <span class="n">E</span> <span class="mf">70e9</span> <span class="n">v</span> <span class="mf">0.1</span> <span class="n">damp</span> <span class="mf">0.6</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;Fel&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">3500</span> <span class="n">E</span> <span class="mf">45e9</span> <span class="n">v</span> <span class="mf">0.2</span> <span class="n">damp</span> <span class="mf">0.6</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;Bio&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">1800</span> <span class="n">E</span> <span class="mf">20e9</span> <span class="n">v</span> <span class="mf">0.3</span> <span class="n">damp</span> <span class="mf">0.6</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;up&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">7000</span>  <span class="n">E</span> <span class="mf">120e9</span> <span class="n">v</span> <span class="mf">0.3</span> <span class="n">damp</span> <span class="mf">0.6</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;down&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">7000</span> <span class="n">E</span> <span class="mf">120e9</span> <span class="n">v</span> <span class="mf">0.3</span> <span class="n">damp</span> <span class="mf">0.6</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Assign different materials for cohesive interfaces.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Qtz-Qtz&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">15e6</span> <span class="n">coh</span> <span class="mf">30e6</span> <span class="n">fric</span> <span class="mf">0.1</span> <span class="n">GI</span> <span class="mf">5e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Qtz-Fel&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">5e6</span> <span class="n">coh</span> <span class="mf">10e6</span> <span class="n">fric</span> <span class="mf">0.3</span> <span class="n">GI</span> <span class="mf">1e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Fel-Fel&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">10e6</span> <span class="n">coh</span> <span class="mf">20e6</span> <span class="n">fric</span> <span class="mf">0.2</span> <span class="n">GI</span> <span class="mf">2e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Fel-Bio&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">5e6</span> <span class="n">coh</span> <span class="mf">10e6</span> <span class="n">fric</span> <span class="mf">0.3</span> <span class="n">GI</span> <span class="mf">1e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Bio-Bio&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">8e6</span> <span class="n">coh</span> <span class="mf">15e6</span> <span class="n">fric</span> <span class="mf">0.2</span> <span class="n">GI</span> <span class="mf">1.5e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Bio-Qtz&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">5e6</span> <span class="n">coh</span> <span class="mf">10e6</span> <span class="n">fric</span> <span class="mf">0.3</span> <span class="n">GI</span> <span class="mf">1e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Assign different materials for contact.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;default&#39;</span>  <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Qtz&#39;</span> <span class="s1">&#39;Qtz&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.1</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Qtz&#39;</span> <span class="s1">&#39;Fel&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Fel&#39;</span> <span class="s1">&#39;Fel&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.2</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Fel&#39;</span> <span class="s1">&#39;Bio&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Bio&#39;</span> <span class="s1">&#39;Bio&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.2</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Bio&#39;</span> <span class="s1">&#39;Qtz&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.3</span>
</pre></div>
</div>
</section>
<section id="create-groups-and-assign-boundary-conditions">
<h3>3.4 Create Groups and Assign Boundary Conditions<a class="headerlink" href="#create-groups-and-assign-boundary-conditions" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Create <code class="docutils literal notranslate"><span class="pre">object::node</span></code> groups.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;up&#39;</span> <span class="s1">&#39;up&#39;</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;down&#39;</span> <span class="s1">&#39;down&#39;</span> 
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Assign the nodal boundaries. In this model, top, bottom and right boundaries are fixed in both <em>x</em> and <em>y</em> directions.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">boundary</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">velocity</span>  <span class="s1">&#39;up&#39;</span> <span class="n">x</span> <span class="mf">0.0</span> <span class="n">y</span> <span class="o">-</span><span class="mf">0.05</span>
<span class="n">of</span><span class="o">.</span><span class="n">boundary</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">velocity</span>  <span class="s1">&#39;down&#39;</span> <span class="n">x</span> <span class="mf">0.0</span> <span class="n">y</span> <span class="mf">0.05</span>
</pre></div>
</div>
</section>
<section id="set-the-outputs">
<h3>3.5 Set the Outputs<a class="headerlink" href="#set-the-outputs" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Set the output interval to be every 500 steps and output all fields variables and fracture variables.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">interval</span> <span class="mi">50000</span>
<span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">field</span> <span class="n">default</span> 
<span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">fracture</span> <span class="n">default</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>The program will run 10000000 steps in total.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">step</span> <span class="mi">1000000</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Finalize the model and clear all the temporary memories.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">of</span><span class="o">.</span><span class="n">finalize</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Save the notepad and double click the .of file to run the program.</p></li>
</ol>
</section>
</section>
<section id="run-the-program">
<h2>4 Run the Program<a class="headerlink" href="#run-the-program" title="Permalink to this heading">#</a></h2>
<p>Wait for updates.</p>
</section>
<section id="results">
<h2>5 Results<a class="headerlink" href="#results" title="Permalink to this heading">#</a></h2>
<p>Wait for updates.</p>
</section>
<section id="full-script">
<h2>6 Full Script<a class="headerlink" href="#full-script" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/OpenFDEM-geomechanics/Examples/blob/main/GBM/Job-1.inp">GBM.of</a> (click to download from GitHub)</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># initialization, this command is to clear the memory in your last run, it is not mandatory </span>
<span class="c1"># but strongly recommend.</span>
<span class="n">of</span><span class="o">.</span><span class="n">new</span>
<span class="n">of</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">GBM</span>

<span class="c1"># Set the path folder of your output results, //result// in the same path of your input file </span>
<span class="c1"># will be created by default</span>
<span class="n">of</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">result</span> <span class="s2">&quot;result&quot;</span>

<span class="c1"># Set the number of cores you want to use, the parallization will be automatically turned on</span>
<span class="c1"># when you use the following command, otherwise the serilization will be used by default</span>
<span class="n">of</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">omp</span> <span class="mi">15</span>

<span class="c1">##################################### import mesh ##########################################</span>
<span class="n">of</span><span class="o">.</span><span class="kn">import</span> <span class="s1">&#39;Job-1.inp&#39;</span>

<span class="n">of</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">gbm</span> <span class="mi">3</span> <span class="s1">&#39;Qtz&#39;</span> <span class="mf">0.3</span> <span class="s1">&#39;Fel&#39;</span> <span class="mf">0.46</span> <span class="s1">&#39;Bio&#39;</span> <span class="mf">0.24</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;rock&#39;</span> <span class="nb">range</span> <span class="n">box</span><span class="o">.</span><span class="ow">in</span> <span class="n">xmin</span> <span class="o">-</span><span class="mf">0.05</span> <span class="n">xmax</span> <span class="mf">0.05</span> <span class="n">ymin</span> <span class="o">-</span><span class="mf">0.05</span> <span class="n">ymax</span> <span class="mf">0.05</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;up&#39;</span>  <span class="nb">range</span> <span class="n">box</span><span class="o">.</span><span class="ow">in</span> <span class="n">xmin</span> <span class="o">-</span><span class="mf">1.0</span> <span class="n">xmax</span> <span class="mf">1.0</span> <span class="n">ymin</span> <span class="mf">0.05</span> <span class="n">ymax</span>  <span class="mf">1.0</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;down&#39;</span>  <span class="nb">range</span> <span class="n">box</span><span class="o">.</span><span class="ow">in</span> <span class="n">xmin</span> <span class="o">-</span><span class="mf">1.0</span> <span class="n">xmax</span> <span class="mf">1.0</span> <span class="n">ymin</span>  <span class="o">-</span><span class="mf">1.0</span> <span class="n">ymax</span> <span class="o">-</span><span class="mf">0.05</span>

<span class="c1"># insert cohesive elements</span>
<span class="n">of</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">insert</span> <span class="s1">&#39;rock&#39;</span>

<span class="c1"># Group Cohesive Elements</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Qtz-Qtz&#39;</span> <span class="s1">&#39;Qtz&#39;</span> <span class="s1">&#39;Qtz&#39;</span>   <span class="c1"># Quartz group</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Qtz-Fel&#39;</span> <span class="s1">&#39;Qtz&#39;</span> <span class="s1">&#39;Fel&#39;</span>	<span class="c1"># Quartz-feldspar group</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Fel-Fel&#39;</span> <span class="s1">&#39;Fel&#39;</span> <span class="s1">&#39;Fel&#39;</span>	<span class="c1"># feldspar-feldspar group</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Fel-Bio&#39;</span> <span class="s1">&#39;Fel&#39;</span> <span class="s1">&#39;Bio&#39;</span>	<span class="c1"># feldspar-biotite group</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Bio-Bio&#39;</span> <span class="s1">&#39;Bio&#39;</span> <span class="s1">&#39;Bio&#39;</span>	<span class="c1"># biotite-biotite group</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">cohelement</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">gbm</span> <span class="s1">&#39;Bio-Qtz&#39;</span> <span class="s1">&#39;Bio&#39;</span> <span class="s1">&#39;Qtz&#39;</span>	<span class="c1"># biotite-Quartz group</span>

<span class="c1">################################# assign material parameters ################################</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;Qtz&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">2700</span> <span class="n">E</span> <span class="mf">70e9</span> <span class="n">v</span> <span class="mf">0.1</span> <span class="n">damp</span> <span class="mf">0.6</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;Fel&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">3500</span> <span class="n">E</span> <span class="mf">45e9</span> <span class="n">v</span> <span class="mf">0.2</span> <span class="n">damp</span> <span class="mf">0.6</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;Bio&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">1800</span> <span class="n">E</span> <span class="mf">20e9</span> <span class="n">v</span> <span class="mf">0.3</span> <span class="n">damp</span> <span class="mf">0.6</span>

<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;up&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">7000</span>  <span class="n">E</span> <span class="mf">120e9</span> <span class="n">v</span> <span class="mf">0.3</span> <span class="n">damp</span> <span class="mf">0.6</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;down&#39;</span> <span class="n">elastic</span> <span class="n">den</span> <span class="mi">7000</span> <span class="n">E</span> <span class="mf">120e9</span> <span class="n">v</span> <span class="mf">0.3</span> <span class="n">damp</span> <span class="mf">0.6</span>

<span class="c1"># assign materials for CZM</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Qtz-Qtz&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">15e6</span> <span class="n">coh</span> <span class="mf">30e6</span> <span class="n">fric</span> <span class="mf">0.1</span> <span class="n">GI</span> <span class="mf">5e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Qtz-Fel&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">5e6</span> <span class="n">coh</span> <span class="mf">10e6</span> <span class="n">fric</span> <span class="mf">0.3</span> <span class="n">GI</span> <span class="mf">1e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Fel-Fel&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">10e6</span> <span class="n">coh</span> <span class="mf">20e6</span> <span class="n">fric</span> <span class="mf">0.2</span> <span class="n">GI</span> <span class="mf">2e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Fel-Bio&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">5e6</span> <span class="n">coh</span> <span class="mf">10e6</span> <span class="n">fric</span> <span class="mf">0.3</span> <span class="n">GI</span> <span class="mf">1e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Bio-Bio&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">8e6</span> <span class="n">coh</span> <span class="mf">15e6</span> <span class="n">fric</span> <span class="mf">0.2</span> <span class="n">GI</span> <span class="mf">1.5e2</span> <span class="n">GII</span> <span class="mf">50e3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">cohesive</span> <span class="s1">&#39;Bio-Qtz&#39;</span> <span class="n">EM</span> <span class="n">ten</span> <span class="mf">5e6</span> <span class="n">coh</span> <span class="mf">10e6</span> <span class="n">fric</span> <span class="mf">0.3</span> <span class="n">GI</span> <span class="mf">1e2</span> <span class="n">GII</span> <span class="mf">50e3</span>

<span class="c1"># assign materials for contacts</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;default&#39;</span>  <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Qtz&#39;</span> <span class="s1">&#39;Qtz&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.1</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Qtz&#39;</span> <span class="s1">&#39;Fel&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Fel&#39;</span> <span class="s1">&#39;Fel&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.2</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Fel&#39;</span> <span class="s1">&#39;Bio&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.3</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Bio&#39;</span> <span class="s1">&#39;Bio&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.2</span>
<span class="n">of</span><span class="o">.</span><span class="n">mat</span><span class="o">.</span><span class="n">contact</span> <span class="s1">&#39;Bio&#39;</span> <span class="s1">&#39;Qtz&#39;</span> <span class="n">MC</span> <span class="n">fric</span> <span class="mf">0.3</span>

<span class="c1">##################################### create groups #########################################</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;up&#39;</span> <span class="s1">&#39;up&#39;</span>
<span class="n">of</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">element</span> <span class="s1">&#39;down&#39;</span> <span class="s1">&#39;down&#39;</span> 

<span class="c1">################################### assign boundaries #######################################</span>
<span class="c1"># boundaries can be assigned after you define the groups</span>
<span class="n">of</span><span class="o">.</span><span class="n">boundary</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">velocity</span>  <span class="s1">&#39;up&#39;</span> <span class="n">x</span> <span class="mf">0.0</span> <span class="n">y</span> <span class="o">-</span><span class="mf">0.05</span>
<span class="n">of</span><span class="o">.</span><span class="n">boundary</span><span class="o">.</span><span class="n">nodal</span><span class="o">.</span><span class="n">velocity</span>  <span class="s1">&#39;down&#39;</span> <span class="n">x</span> <span class="mf">0.0</span> <span class="n">y</span> <span class="mf">0.05</span>

<span class="c1">####################################### set output ##########################################</span>
<span class="c1"># Set the interval of writing ParaView results.</span>
<span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">interval</span> <span class="mi">50000</span>
<span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">field</span> <span class="n">default</span> 
<span class="n">of</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">fracture</span> <span class="n">default</span>

<span class="c1">##################################### execute model #########################################</span>
<span class="c1"># to excuate the model</span>
<span class="n">of</span><span class="o">.</span><span class="n">step</span> <span class="mi">1000000</span>
<span class="c1"># finalize the model and clear the memory</span>
<span class="n">of</span><span class="o">.</span><span class="n">finalize</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="tutorial8_Thermal_Flux.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Thermal flux transportation in a bar</p>
      </div>
    </a>
    <a class="right-next"
       href="tutorial10_Phase_Field.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Phase Field</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tutorial-prerequistes">1 Tutorial Prerequistes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#main-steps">2 Main Steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#codes">3 Codes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-the-model">3.1 Initialize the model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-geometry-and-the-mesh">3.2 Import the geometry and the mesh</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assign-material-and-thermal-properties">3.3 Assign Material and Thermal Properties</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-groups-and-assign-boundary-conditions">3.4 Create Groups and Assign Boundary Conditions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set-the-outputs">3.5 Set the Outputs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-program">4 Run the Program</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#results">5 Results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#full-script">6 Full Script</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/rst_tutorials/tutorial9_GBM.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023, OpenFDEM Developer Group.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>